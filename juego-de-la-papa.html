<!DOCTYPE html>
<html>
    <head>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-image:url("fondologin.png") ;
            background-repeat: no-repeat;
            background-position: center;
            background-position: top;
            background-size: cover;
            font-family: sans-serif;
            height: 100vh;
        }
        .login-box {
            width: 700px;
            height: 620px;
            background:black;
            color:white;
            top: 50%;
            left: 50%;
            position: absolute;
            transform: translate(-50% , -50%);
            box-sizing: border-box;
            padding: 70px 30px;
        }
        .log {
            width: 100px;
            right: 100px;
            border: 50%;
            position: absolute;
            top:  -60px;
            left: calc(50%-50px)
        }
        .login-box h1 {
            margin: 0;
            padding: 0 0 20;
            text-align: center;
            font-size: 22px;
            margin-bottom: 20px;
        }
        .login-box a{
            text-decoration: none;
            font-size: 17px;
            line-height: 25px;
            color:rgb(66, 139, 161);
        }
        ul { 
            text-transform: uppercase;
            list-style-type: none;
        }
        .login-box a:hover{
            color:floralwhite
        }
        canvas {
            background-color: white;
        }
    </style>
    </head>
    <body>
        <div class= "login-box">
            <img class="log" src="Logo.png">
            <h1>Juego de la Papa</h1>
            <canvas id="canvas" width="640" height="480" style="border:1px solid #d3d3d3;">Canvas no soportado. Utilice otro browser.</canvas>
            <script>
                var canvas = document.getElementById("canvas");
                var ctx = canvas.getContext("2d");

                var pos1X;
                var pos1Y;
                var yaEmpezo = false;

                canvas.addEventListener('mousemove', function(evt) {
                    var p = getMousePos(canvas, evt);
                    if (yaEmpezo) {

                        var data = ctx.getImageData(p.x, p.y, 1, 1).data;
                        console.log(data);
                        if(data[2] == 255) {
                            alert("Perdiste!");
                            window.location.reload();
                        }

                        ctx.fillStyle = "blue";
                        ctx.fillRect(p.x,p.y,1,1);
                    } else if (p.x >= pos1X && p.y >= pos1Y && p.x <= pos1X + 4 && p.y <= pos1Y + 4) {
                        yaEmpezo = true;
                    }
                }, false);
                function getMousePos(canvas, evt) {
                    var rect = canvas.getBoundingClientRect();
                    return {
                        x: parseInt(evt.clientX - rect.left),
                        y: parseInt(evt.clientY - rect.top)
                    };
                }


                for (let i = 1; i <= 20; i++) {
                    ctx.beginPath();
                    ctx.font = "14px Arial";
                    var px = Math.random() * 600 + 20;
                    var py = Math.random() * 440 + 20;
                    if (i == 1) {
                        pos1X = px + 5;
                        pos1Y = py + 5;
                    }
                    ctx.fillStyle = "red";
                    ctx.fillText(String(i), px, py);
                    ctx.stroke();
                    ctx.fillRect(px + 5,py + 5,4,4);
                }



            </script>
        </div>
    </body>
</html>